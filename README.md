# wikidoc

This tool allows to create a nice looking PDF file from a github wiki, which can be used as offline/printable documentation.

For it to work, all wiki files must be created as github markdown files and must contain only pure HTML (which is supported by the github wiki) and no markdown*. Furthermore the HOME page (Home.md) must be present and must contain some special comments to configure and customize wikidoc (see example below).

The script builds one large HTML file from the different wiki files and pipes that into [wkhtmltox](http://www.wkhtmltopdf.org/) to create the PDF. It uses the same file order as the github wiki to join the different wiki files and adds an H1-header based on the filenames in the same way the github wiki is doing it. Except the HOME page, it is not getting a HOME-H1, instead use the custom WIKIDOC HTML HEAD to add H1 before the HOME page.

The offline documentation for the [jTDC repository](https://github.com/jobisoft/jTDC/tree/master/documentation) is generated by wikidoc.

## wikidoc configuration

One of the special comments is the WIKIDOC CONFIG comment, containing a list of parameter definitions. All except "filename" will be directly send as parameters to wkhtmltox (see [documentation](http://wkhtmltopdf.org/usage/wkhtmltopdf.txt) of wkhtmltox for a list of possible options). The provided parameters are not verified by wikidoc. If the filename is missing, the default "documentation.pdf" will be used.

## wikidoc HEAD and FOOT

The joined wiki files are put between customizable the HTML HEAD and HTML FOOT segments. The HTML HEAD may contain the ###_WIKIDOC_GENDATE_### placeholder, which will be replaced by the current date.


## Usage

After cloning/pulling the lates version of the github wiki repository into <folder>, run:
```
./wikidoc.py <folder>
```

## ToDo:
 - better image extraction
 - allow markdown

## Example Home.md

```
<!-- WIKIDOC CONFIG
filename: documentation.pdf
page-size: A4
margin-top: 2cm
margin-left: 2cm
margin-bottom: 2cm
margin-right: 2cm
WIKIDOC CONFIG  -->

<!-- WIKIDOC HEAD
<html>
<head>
<STYLE type='text/css'>
    @media print {
        .covertitle { padding-top: 40%; }
    }
    html { font-family: Verdana,Geneva,sans-serif; font-size: 10pt; }
    h1  {page-break-before: always; }
    .covertitle { text-align: right; font-weight:bold; font-size: 30pt; }
    .generated { font-weight:normal; font-size: 6pt; }
</STYLE>
</head>
<body>
<div class='covertitle'>Example Documentation<br><span class='generated'>generated from github wiki: ###_WIKIDOC_GENDATE_###</span></div>
<h1>Preface</h1>
WIKIDOC HEAD -->

<!-- WIKIDOC FOOT
</body></html>
WIKIDOC FOOT -->

Only this text will be displayed on the HOME page. In this example, its H1-header in the generated PDF is "Preface", as defined in the WIKIDOC HEAD.

```
